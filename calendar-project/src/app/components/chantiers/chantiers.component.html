<div class="row">
  <div *ngIf="chantiers" class="column">
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title class="title">Nos chantiers</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-nav-list>
          <mat-list-item *ngFor="let chantier of chantiers" routerLink="/chantiers/detail/{{chantier.name_chantier}}">
            <a matLine> {{chantier.name_chantier}} </a>
            <button mat-icon-button (click)="delete(chantier)">
              <mat-icon>close</mat-icon>
            </button>
          </mat-list-item>
        </mat-nav-list>
      </mat-card-content>
    </mat-card>
    <app-messages></app-messages>
  </div>
  <div *ngIf="chantiers" class="column">
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title class="title">Ajouter un chantier</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-list>
          <mat-list-item>
            <mat-form-field>
              <input #chantierName matInput placeholder="Lieu">
            </mat-form-field>
            <mat-form-field>
              <input #chantierAdress matInput placeholder="Adresse">
            </mat-form-field>
          </mat-list-item>
          <mat-list-item>
            <mat-form-field>
              <input #chantierStart matInput [matDatepicker]="picker1" placeholder="Date de début">
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
            <mat-form-field>
              <input #chantierEnd matInput [matDatepicker]="picker2" placeholder="Date de fin">
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
          </mat-list-item>
          <h3 matSubheader> Heure de début </h3>
          <mat-list-item>
            <mat-radio-group [(ngModel)]="heureDebChoisie">
              <mat-radio-button class="example-margin" value={{heureDebMatin}}>8h</mat-radio-button>
              <mat-radio-button class="example-margin" value={{heureDebAM}}>14h</mat-radio-button>
            </mat-radio-group>
          </mat-list-item>
          <h3 matSubheader> Heure de fin </h3>
          <mat-list-item>
            <mat-radio-group [(ngModel)]="heureFinChoisie">
              <mat-radio-button class="example-margin" value={{heureFinMatin}}>12h</mat-radio-button>
              <mat-radio-button class="example-margin" value={{heureFinAM}}>18h</mat-radio-button>
            </mat-radio-group>
          </mat-list-item>
          <mat-list-item>
            <button mat-raised-button class = "send_button" color="accent" 
            (click)="add(chantierName.value, chantierStart.value, heureDebChoisie, chantierEnd.value, heureFinChoisie, chantierAdress.value);
            chantierName.value='';chantierStart.value='';chantierEnd.value='';chantierAdress.value=''">
            Ajouter
          </button>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>
</div>

